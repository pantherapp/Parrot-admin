{"ast":null,"code":"var _jsxFileName = \"/Users/yrm/Sites/nudge/src/components/TimeInput.js\";\nimport React, { useCallback, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { useInput, FieldTitle } from 'ra-core';\nimport { TimePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\n\nconst Picker = ({\n  PickerComponent,\n  ...fieldProps\n}) => {\n  const {\n    options,\n    label,\n    source,\n    resource,\n    className,\n    isRequired,\n    providerOptions\n  } = fieldProps;\n  const {\n    input,\n    meta\n  } = useInput({\n    source\n  });\n  const {\n    touched,\n    error\n  } = meta;\n  const handleChange = useCallback(value => {\n    Date.parse(value) ? input.onChange(value.toISOString()) : input.onChange(null);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"picker\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MuiPickersUtilsProvider, Object.assign({}, providerOptions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(PickerComponent, Object.assign({}, options, {\n    label: /*#__PURE__*/React.createElement(FieldTitle, {\n      label: label,\n      source: source,\n      resource: resource,\n      isRequired: isRequired,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 18\n      }\n    }),\n    margin: \"normal\",\n    error: !!(touched && error),\n    helperText: touched && error,\n    className: className,\n    value: input.value ? new Date(input.value) : null,\n    onChange: date => handleChange(date),\n    onBlur: () => input.onBlur(input.value ? new Date(input.value).toISOString() : null),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }))));\n};\n\nPicker.propTypes = {\n  input: PropTypes.object,\n  isRequired: PropTypes.bool,\n  label: PropTypes.string,\n  meta: PropTypes.object,\n  options: PropTypes.object,\n  resource: PropTypes.string,\n  source: PropTypes.string,\n  labelTime: PropTypes.string,\n  className: PropTypes.string,\n  providerOptions: PropTypes.shape({\n    utils: PropTypes.func,\n    locale: PropTypes.oneOfType([PropTypes.object, PropTypes.string])\n  })\n};\nPicker.defaultProps = {\n  input: {},\n  isRequired: false,\n  meta: {\n    touched: false,\n    error: false\n  },\n  options: {},\n  resource: '',\n  source: '',\n  labelTime: '',\n  className: '',\n  providerOptions: {\n    utils: DateFnsUtils,\n    locale: undefined\n  }\n};\nexport const TimeInput = props => /*#__PURE__*/React.createElement(Picker, Object.assign({\n  PickerComponent: TimePicker\n}, props, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 35\n  }\n}));","map":{"version":3,"sources":["/Users/yrm/Sites/nudge/src/components/TimeInput.js"],"names":["React","useCallback","useRef","PropTypes","useInput","FieldTitle","TimePicker","MuiPickersUtilsProvider","DateFnsUtils","Picker","PickerComponent","fieldProps","options","label","source","resource","className","isRequired","providerOptions","input","meta","touched","error","handleChange","value","Date","parse","onChange","toISOString","date","onBlur","propTypes","object","bool","string","labelTime","shape","utils","func","locale","oneOfType","defaultProps","undefined","TimeInput","props"],"mappings":"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","sourcesContent":["import React, { useCallback, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { useInput, FieldTitle } from 'ra-core';\nimport { TimePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport DateFnsUtils from '@date-io/date-fns';\n\nconst Picker = ({ PickerComponent, ...fieldProps }) => {\n\n  const {\n    options,\n    label,\n    source,\n    resource,\n    className,\n    isRequired,\n    providerOptions,\n  } = fieldProps;\n\n  const { input, meta } = useInput({ source });\n  \n  const { touched, error } = meta;\n  \n  const handleChange = useCallback(value => {\n    Date.parse(value) ? input.onChange(value.toISOString()) : input.onChange(null);\n  }, []);\n\n  return (\n    <div className=\"picker\">\n      <MuiPickersUtilsProvider {...providerOptions}>\n        <PickerComponent\n          {...options}\n          label={<FieldTitle\n            label={label}\n            source={source}\n            resource={resource}\n            isRequired={isRequired}\n          />}\n          margin=\"normal\"\n          error={!!(touched && error)}\n          helperText={touched && error}\n          className={className}\n          value={input.value ? new Date(input.value) : null}\n          onChange={date => handleChange(date)}\n          onBlur={() => input.onBlur(input.value ? new Date(input.value).toISOString() : null)}\n        />\n      </MuiPickersUtilsProvider>\n    </div>\n  )\n}\n\nPicker.propTypes = {\n  input: PropTypes.object,\n  isRequired: PropTypes.bool,\n  label: PropTypes.string,\n  meta: PropTypes.object,\n  options: PropTypes.object,\n  resource: PropTypes.string,\n  source: PropTypes.string,\n  labelTime: PropTypes.string,\n  className: PropTypes.string,\n  providerOptions: PropTypes.shape({\n    utils: PropTypes.func,\n    locale: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n  }),\n};\n\nPicker.defaultProps = {\n  input: {},\n  isRequired: false,\n  meta: { touched: false, error: false },\n  options: {},\n  resource: '',\n  source: '',\n  labelTime: '',\n  className: '',\n  providerOptions: {\n    utils: DateFnsUtils,\n    locale: undefined,\n  },\n};\n\nexport const TimeInput = props => <Picker PickerComponent={TimePicker} {...props} />\n"]},"metadata":{},"sourceType":"module"}